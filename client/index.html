<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <meta name="description" content="Pixel Tavern - A virtual chat room with AI bartenders and an interactive menu system" />
  </head>
  <body>
    <div id="root"></div>
    <!-- Hidden audio elements for sound effects with inline data -->
    <audio id="notification-sound" preload="auto" style="display:none;">
      <source src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//NAwAAAAAAAAAAAAFhpbmcAAAAPAAAABAADoh4AICAgICAgICAgQEBAQEBAQEBAYGBgYGBgYGBggICAgICAgICAwMDAwMDAwMDQ0NDQ0NDQ0NDQ8PDw8PDw8PD////////////////7EUAAAOeQJuSGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAOAAAKxgA7OztWVlZvb2+KioqkpKS+vr7W1tbr6+vr6+v////r6+vr6+vW1ta+vr6kpKSKiopvb29WVlY7Ozv///8AAAA5TEFNRTMuMTAwAc0AAAAAAAAAABSAJAUkgwAAgAAAHaId/zOmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zUMQAGLYU4+dBQAEZb1qJ9eCBAIRduHOc5wNEmSJIj/7//6SJEiRMx8K8vs182WALAAAAMrqJG6mRH5WbZmkrCZyQLy4L0yLE6cD3jEOcGETJggCBnCEFQQBAEIZhCCocQk//82DEBxkMHtfnY8ABg4TazOd05xCFi5cQhc6cXLgoKnSYsWH/+HvHxd//+sXcuXcW4u53bu933YKBgCgIAgCAIAgCUKGGlCCAMgKCx42ViSRQFwI1hUBKCYoJAGZgaAZGMowZgAYA6AACAAAAAA//80DEBxgsEsVvPMABAYJWnHiYAAEAQAGcGQAi8D6AYY0AgYhgAC8AmAAwAEALgAYAWFUAAcAAA//80LEAxlbfj0HPYAAAAAAQAAEAAAhVhpTvGmGGAYYXAQOQgaMZBoAAAP/zQsQAAAAANIAAAAACEYFAIYUAAYGAAGAAH//NAxAQAAANIAAAAABAAAAgAAAAEAEoAAYAH//NExAcAAAKYAYAAAP/zQsQAAAJcHRgBgAP/zUMQAGOE2K38PQCQ1RqVv4egFP/zQsQAAAAANIAAAAA==" type="audio/mpeg">
    </audio>
    <audio id="message-sound" preload="auto" style="display:none;">
      <source src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//NAwAAAAAAAAAAAAFhpbmcAAAAPAAAAAgACVrAAFhYWFhYWFhYWFhYWFhYWFhYWFhb/////////////////////GkUAAAMUQqhRKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhpbmcAAAAPAAAADAAAD2AADw8PGhoaJCQkLS0tNzc3QEBAS0tLVFRUXl5eaGhoFhYWFhYWLi4uLi4uPj4+Pj4+T09PT09PX19fX19fc3NzdHR0hISEhISElZWVpaWltra2xsbG1tbW5ubm9vb2////AAA5TEFNRTMuMTAwA80AAAAAAAAAABSAJAkUgQAAgAAAtrbrwj0cAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zQsRKEXQdK5cyYgiRbBJlujJgAEwbqmyJk6NAH3BLf////OlgAA0PK9J0YNKMkjQRAQJSgBMAkhcIcCW//8qAAAIA8nG+IGlI//NAxEEUlApXL2DEAKTMyOYiGP8yRt3sJQiA0EwIhHAgcOABFKMuoSxIJQxEgGAwwUBuAcYrDEwL0GCEQAZLAhDKM1KgwGCMASQZTBeAUMAyQlzBQYGUwPQCTALAUP/zYMQLFtgGQA8wYAEVMEiBNTDMw4UwLUInMBAA1zEwMU0xlTHCMIoAFzIrQCEwFwAEMAcARzBZUCkwEAATMAwAJjAVADkwGQATMA8AIDANABIwBwAEMCMAsjAjADMwHgB+MBsAQv/zQMQXEpgOL08wwACDMA8AEzAIABQwFQATMAoABjAIAAUwAgACMAEAADAAAP/zUMQZMuwGGAGAAA//80LEHwAAANIAAAAABIEAABAAA//zQsQZAAAA0gAAAAAA//NAxBgAAANIAAAAAAD/80LEGgAAANIAAAAAAA==" type="audio/mpeg">
    </audio>
    
    <script type="module" src="/src/main.tsx"></script>
    <!-- Audio unlock script to help with browser autoplay policies -->
    <script src="/sounds/unlock.js"></script>
    
    <!-- Simple inline script to play sounds -->
    <script>
      // Global functions to play notification sounds
      window.playNotificationSound = function() {
        try {
          const sound = document.getElementById('notification-sound');
          if (sound) {
            sound.volume = 1.0;
            sound.currentTime = 0;
            sound.play().catch(e => console.error('Error playing notification:', e));
          }
        } catch (e) {
          console.error('Error in playNotificationSound:', e);
        }
      };
      
      window.playMessageSound = function() {
        try {
          const sound = document.getElementById('message-sound');
          if (sound) {
            sound.volume = 1.0;
            sound.currentTime = 0;
            sound.play().catch(e => console.error('Error playing message sound:', e));
          }
        } catch (e) {
          console.error('Error in playMessageSound:', e);
        }
      };
      
      window.playAlertSound = function() {
        try {
          // Create a simple audio context approach - most reliable
          const audioContext = new (window.AudioContext || window.webkitAudioContext)();
          const oscillator = audioContext.createOscillator();
          oscillator.type = 'sine';
          oscillator.frequency.setValueAtTime(900, audioContext.currentTime); 
          oscillator.connect(audioContext.destination);
          oscillator.start();
          oscillator.stop(audioContext.currentTime + 0.1);
          console.log('Playing alert sound via Web Audio API');
        } catch (e) {
          console.error('Error in playAlertSound:', e);
        }
      };
      
      // Simple beep function that works in all browsers without dependencies
      window.playBeep = function() {
        try {
          // Create a basic beep sound using the lowest-level Web Audio API approach
          const ctx = new (window.AudioContext || window.webkitAudioContext)();
          const osc = ctx.createOscillator();
          const gain = ctx.createGain();
          
          osc.connect(gain);
          gain.connect(ctx.destination);
          
          gain.gain.value = 0.1;
          osc.frequency.value = 880;
          osc.type = 'sine';
          
          osc.start();
          setTimeout(function() {
            osc.stop();
          }, 100);
          
          console.log('Simple beep played successfully');
        } catch (e) {
          console.error('Error playing simple beep:', e);
        }
      };
      
      // Add click handlers to initialize audio after user interaction
      document.addEventListener('click', function initAudio() {
        // Try to play all sounds once with zero volume to unlock audio
        const sounds = ['notification-sound', 'message-sound', 'alert-sound'];
        sounds.forEach(id => {
          const sound = document.getElementById(id);
          if (sound) {
            sound.volume = 0.01;
            sound.play().then(() => {
              console.log('Sound initialized:', id);
              sound.pause();
              sound.currentTime = 0;
            }).catch(e => {
              console.error('Failed to initialize sound:', id, e);
            });
          }
        });
        
        // Remove this listener once we've tried initializing
        document.removeEventListener('click', initAudio);
      });
    </script>
    <!-- This script injects a replit badge into the page, please feel free to remove this line -->
  </body>
</html>
